<table class="table mbn">
    <tr ng-show="sfide.length == 0">
        <td>
            <p icon="flag">Nessuna sfida</p>
        </td>
    </tr>
    <tr ng-show="sfide.length > 0">
        <th></th>
        <th>Avversario</th>
        <th class="text-center">Lanciata</th>
        <th class="text-center">Risposta</th>
        <th>Risultato</th>
        <th class="text-center">Punti</th>
        <th class="text-center">Rewards</th>
        <th class="text-center">Stato</th>
    </tr>
    <tr ng-repeat="sfida in sfide" ng-controller="ListaSfide.Sfida" id_sfida="{{sfida.if_sfida}}" on-sfida-load>
        <td class="{{risultatoLabel}}"></td>
        <td>{{id_avversario}}
            <username id_utente="{{id_avversario}}"></username>
        </td>
        <td class="text-center">
            <beautify-date ng-show="sfida.dta_sfida != false" date="{{sfida.dta_sfida}}"></beautify-date>
        </td>
        <td class="text-center">
            <beautify-date ng-show="sfida.dta_conclusa != false" date="{{sfida.dta_conclusa}}"></beautify-date>
        </td>
        <td>
            <div class="result-screen" risultato="{{sfida.risultato}}">
                <div class="team-screen home-team score{{risultato[0]}}" ng-class="{lose: sfida.id_vincitore == sfida.id_sfidato, win: sfida.id_vincitore == sfida.id_sfidante}"></div>
                <div class="team-screen away-team score{{risultato[1]}}" ng-class="{win: sfida.id_vincitore == sfida.id_sfidato, lose: sfida.id_vincitore == sfida.id_sfidante}"></div>
            </div>
        </td>
        <td class="text-center">
            <span class="badge">{{punti}}</span>
        </td>
        <td class="text-center">
            <span class="badge">{{sfida.id_sfidante == $scope.currentUser.id_utente ? sfida.punti_sfidante : sfida.punti_sfidato}}</span>
        </td>
        <td class="text-center">
            <button ng-show="hasActiveButton" class="btn btn-sm" icon="{{statoButtonIcon}}" ng-class="{'btn-warning': statoButton == 'rispondi', 'btn-info': statoButton == 'vedi_sfida'}" ng-click="doClickSfida(statoButton)">{{statoButton | varToTitle}}</button>
            <button ng-show="!hasActiveButton" class="btn btn-sm btn-disabled" disabled="disabled" icon="{{statoButtonIcon}}">{{statoButton | varToTitle}}</button>
            <!--<span ng-show="statoButton != 'rispondi'" class="label label-default">{{statoButton | varToTitle}}</span>-->
        </td>
    </tr>
</table>