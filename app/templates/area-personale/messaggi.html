<div class="panel panel-default mtl" ng-controller="Messages">
    <!-- Default panel contents -->
    <div class="panel-heading">
        <span icon="envelope">Inbox</span>
        <button ng-click="writeNewMessage()" class="btn btn-sm btn-info pull-right" icon="plus">Nuovo</button>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-messages mbn">
            <tr ng-show="messages.length > 0">
                <th>Data</th>
                <th>Mittente</th>
                <th>Oggetto</th>
            </tr>
            <tr ng-show="messages.length == 0">
                <td>Non hai nessun messaggio nel tuo archivio</td>
            </tr>
            <tr ng-repeat="message in messages" ng-class="{success:message.letto == 0}">
                <td width="15%">
                    <beautify-date date="{{message.updated_at}}" inline="true"></beautify-date>
                </td>
                <td width="25%">
                    <username popover-placement="top" id-utente="message.id_sender"></username>
                </td>
                <td>
                    <a ng-click="openMessage(message)" class="message-subject">{{message.oggetto}}</a>
                </td>
            </tr>
        </table>
    </div>
</div>
